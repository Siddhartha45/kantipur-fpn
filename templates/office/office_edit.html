{% extends 'base/base.html' %}
{% load static %}
{% block container %}

    <div class="add-heading">
        <h3 class="heading-cm">
            <a href="" class="nav-icon me-2">
                <i class="fa-solid fa-angle-left"></i>
            </a>
            Office<span class="sub-nav ms-2"> > Update</span>
        </h3>
        <p><a href=""><i class="fa-regular fa-eye"></i>Update Office</a></p>
    </div>


    <form action="" method="POST" class="form-cm" enctype="multipart/form-data"
        id="myForm">
        {% csrf_token %}
        <div class="col-md-12">
            <h3 class="create-form-heading">Update Office</h3>
        </div>

        <div class="row mb-2">
            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Department Name</label>
                <input type="text" class="form-control cm" placeholder="Enter department name" name="name" value="{{office_object.name}}" required>
            </div>

            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Department Address</label>
                <input type="text" class="form-control cm" placeholder="Enter department address" name="address" value="{{office_object.address}}" required>
            </div>
        </div>

        <div class="row mb-2">
            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Email address</label>
                <input type="text" class="form-control cm" placeholder="Enter email address" name="email" value="{{office_object.email}}" required>
            </div>

            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Contact Number</label>
                <input type="text" class="form-control cm" placeholder="Enter contact number" name="contact_no" value="{{office_object.contact_no}}" required>
            </div>
        </div>

        <div class="row mb-2">
            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Office Category</label>
                <select type="text" class="form-control form-select kit-form-control cm" placeholder="Select department category" value="{{office_object.category}}" name="category" id="select_box">
                    {% if office_object.category %}
                        <option value="{{data.office}}" selected>{{ office_object.get_category_display }}</option>
                    {% else %}
                        <option value="" selected disabled>Select department category</option>
                    {% endif %}
                        
                    {% for key,value in data.office %}
                        {% if key != office_object.category %}
                            <option value="{{key}}">{{value}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3 col-md-6">
                <label for="" class="form-label cm">Working Area</label>
                <input type="text" class="form-control cm" placeholder="Enter working area" name="working_area" value="{{office_object.working_area}}">
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12 text-end"><button type="submit" name="verify" class="btn btn-primary">Update Office</button></div>
        </div>

    </form>                    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
        integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
        </script>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
    <script src="https://cdn.datatables.net/datetime/1.4.1/js/dataTables.dateTime.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

    <script src="../datepicker/nepali-date-picker.min.js"></script>
    <script src="../../js/script.js"></script>

{% endblock %}